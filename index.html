<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advice Generator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="images/favicon-32x32.png" type="image/x-icon">
</head>
<body>
    <main>
        <div class="advice">
            <p id="num">A D V I C E # 0 0 0</p>
            <p id="text">Advice Generator</p>
            <picture>
                <source media="(min-width: 1000px)" srcset="images/pattern-divider-desktop.svg">
                <img src="images/pattern-divider-mobile.svg" alt="Divider">
            </picture>
        </div>
        <button id="button"></button>
        <section>
            Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
            Coded by <a href="https://github.com/Paula-Carlech">Paula Carlech</a>.
        </section>
    </main>
    <script>
        const API_LINK = "https://api.adviceslip.com/advice";
        const adviceNum = document.getElementById('num')
        const adviceText = document.getElementById('text')
        const fetchBTN = document.getElementById('button')

        const fetchNewAdvice = async () => {
            const response = await fetch(API_LINK);
            const advice = await response.json()
            return advice
        };

        const renderAdvice = (adviceObj) => {
            const {id, advice} = adviceObj;

            adviceNum.textContent = `A D V I C E #${id}`
            adviceText.textContent = `"${advice}"`;
        };

        const generateNewAdvice = async () => {
            const data = await fetchNewAdvice()
            const advice = data.slip;
            
            renderAdvice(advice)
        };

        window.addEventListener('DOMContentLoaded', () =>{
            fetchBTN.addEventListener('click', generateNewAdvice)
        })
    </script>
</body>
</html>